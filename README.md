# One Million Books #

This app will generate a list of ten, a thousand or a million books. You can sort the list by book title, author name, date published and book id, and filter the books by genre, author gender or those published on a special date.

## Get started ##

` yarn ` to install dependencies

` yarn run build `

## How it works ##

A list of a million books is initially generated and stored in the application state as an array of objects, in the following format:

```
  {
    id: 408,
    title: 'Necessitatibus Ut Maiores',
    authorName: 'Robel, Jerome',
    authorGender: 'male',
    genre: 'Drama',
    published: '1989-04-28',
    special: 'Last Friday of Month',
    visible: 1
  }
```

Most fields are self-explanatory, exceptions are:

- ` id ` - each book is given an id number, ranging from 0 and incrementing to the number of books generated.
- ` published ` - this is the date the book was published and will be from the last 40 years.
- ` special ` - this indicates whether the date the book was published falls on either ` 'Halloween' `, ` 'Last Friday of Month' ` or both, which is indicated by ` 'Halloween and Last Friday' `.
- ` visible ` - shows whether a book is visible, depending on which filters are currently applied. When the books are initially generated, the default value is ` 1 `, meaning all books are visible. As filters are applied, the ` visible ` field for any books that fall outside the range of the filters will be set to ` 0 `, meaning those books will not be visible.

### How the fields are generated ###

Faker.js is used to generate a number of fields, namely the ` title `, ` authorName ` and ` published ` fields. The ` authorGender ` field is generated by randomly assigning the ` 'male' ` and ` 'female' ` values. The ` genre ` field is randomly generated from a pre-existing array of genres. The ` special ` field is populated after using a number of ` date-fns ` functions to determine if the generated date is the last Friday of the month, as well as checking if the date falls on Halloween.

As books are generated, they will be assigned random values for all fields, using the above technique, except in the following cases:

- Books generated after 15,000 have been generated - these books will be assigned a publication date that is randomly generated from the existing array of books. This is due to the fact that there are no more than 15,000 individual dates within the 40 year period that we are generating books from.

- Author names and genders for books generated after 50,000 have been generated - these values will be assigned by randomly selecting an author that has already been generated in the existing list of books. This gives more of a feel of a real-world situation, since the same author will be assigned the same gender and will have published a number of books.

## Using the app ##

### Listing the books ###

When the app is opened, three buttons are visible, and you can chose whether you want to display 10, 1000 or a million books.

In the case that 10 or 1000 books are chosen, the app will filter for the first 10 or 1000 books generated and remove any excess books form the application state.

The books will be displayed in a scrollable table which lists the id, title, author name, author gender, genre and date published for each book.

This app uses ` react-virtualized ` to display the books in the table.

### Sorting the books ###

The list of books can be sorted in ascending and descending order, by clicking on the up and down arrows in the sort section. Sorting is available for the following fields:

- title (alphabetically)
- author name (alphabetically by last name)
- date published
- id

### Filtering the books ###

The books can be filtered by using the dropdown menus in the Filter section. Books can be filtered by any or all of the following:

- book genre
- author gender
- special dates

It is therefore possible to filter and show, for example:

- Finance books published on the last Friday of the month
- Horror books published on Halloween

Filtered books can also be sorted by id, title, author name and date published.

To remove any filters, just select the All category in each of the filter dropdowns.

## Testing ##

This project uses Jest for testing and Enzyme for providing snapshots.

Currently, various tests are set up for all components as well as for ` mockDB ` which stores the initial app data and generates the list of books.

To run tests:

` yarn run test `
